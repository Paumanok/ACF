\documentclass[12pt]{article}

\usepackage{graphicx} % pictures
\usepackage{multicol} %Make columns
\usepackage{multirow} %Make rows
\usepackage{amsmath} % Mathy things
\usepackage{gensymb} % Literally only need for degree symbol why
\usepackage{amssymb}
\usepackage{sympytex}
\usepackage{booktabs} % Pretty Tables
\usepackage{colortbl} % Might replace xcolor for table  coloring
\usepackage{array} % Tably stuff
\usepackage{longtable}
\usepackage[margin=1in]{geometry} %Change margins
\usepackage{fancyhdr}
\usepackage{tabu}
\usepackage{tabularx}
\usepackage{pdfpages} % include pdf
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\usepackage[per-mode=symbol]{siunitx}
\usepackage{float}
\usepackage[labelfont=bf,textfont=small]{caption} %Makes captions look nice, will use in the future (maybe)

\usepackage{tocloft}

\renewcommand{\figurename}{Fig.}
\def\cequationautorefname{Equation}%
\usepackage[colorlinks=true,urlcolor=cyan]{hyperref}
\usepackage{listings}
\pagestyle{fancy}
\fancyhead{}
\fancyfoot{}
\rhead{\hfill\thepage}
\lhead{\projectDescriptionShort}
\lstset{%
    basicstyle={\scriptsize\ttfamily},
    inputpath=./lvsreps
    }

\definecolor{lightgray2}{gray}{0.9} % Color for table rows

\newcolumntype{x}[1]{>{\centering\arraybackslash}p{#1}} %center fixed with columns
%Use x{''width''}
\newfloat{cequation}{H}{equ}
\floatname{cequation}{Equation}
\newcounter{NameOfTheNewCounter}
\newcommand{\startalign}{\setcounter{NameOfTheNewCounter}{\theequation+1}}
\newcommand{\equationset}[1]{% \equationset{<caption>}
\noindent\makebox[\linewidth]{Equations \theNameOfTheNewCounter-\theequation: \textbf{#1}}\bigskip}% Print caption
%allow align environment numbering
\newcounter{engineering}
\renewcommand{\theengineering}{\Alph{engineering}}
\newcommand\engineerthis[1]{\refstepcounter{engineering}\label{#1}\theengineering. }
\newcommand\numberthis{\addtocounter{equation}{1}\tag{\theequation}}
\newcommand\Vcc{\ensuremath{V_{cc}}}
\newcommand\sip{\texttt{SI}}
\newcommand\clk{\texttt{clk}}
\newcommand\ao{\texttt{AO}}
\newcommand\mm{~\si{\milli\meter}}
\newcommand{\kohm}[1]{#1~\si{\kilo\ohm}}
\newcommand{\khz}[1]{#1~\si{\kilo\hertz}}

\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt}

\graphicspath{{images/}}
\pgfplotsset{compat=1.13}
\pgfplotstableset{%
    %every head row/.style={before row=\toprule,after row=\midrule},
    every last row/.style ={after row=\bottomrule},
    every even row/.style={before row={\rowcolor[gray]{0.9}}},
}
% The following should be changed to represent your personal information
\newcommand{\projectDescription}{A smart solution to automate and regulate \\the feeding of common household pets}
\newcommand{\projectTitle}{Automated Pet Feeder}
\newcommand{\yourname}{Chris Ranc}
\newcommand{\myname}{Matt Smith}
\newcommand{\anothername}{Shabab Siddiq}
\newcommand{\dateSubmitted}{November 7, 2017}
\newcommand{\collab}{In Collaboration with teams from Northeastern University, Georgia Tech, and Virginia Tech}
\newcommand{\componentDescription}{Microcontroller Options}
\newcommand{\projectDescriptionShort}{Microcontroller Options}


\setcounter{secnumdepth}{0} % Remove section numbering

\begin{document}

\thispagestyle{empty}
    \vspace*{2.5cm}
    \begin{center}
        \LARGE
        \textbf{\projectTitle}

        \Large
        \projectDescription

    \vspace*{2.5cm}
        \large
        \textbf{CMPE 495 Independent Risk Investigation}

        \componentDescription
    \end{center}

    \vspace*{2cm}

    \begin{multicols}{2}
        \phantom{LaTeX doesn't like empty columns} % Phantom will take up that much space, but not actually appear
        \columnbreak{}
        \begin{raggedright}

        Name: \yourname\\
        Team Members: \myname\
        \phantom{Team Members:} \anothername\\
        Submitted: \dateSubmitted\\
        \vspace{\baselineskip}
        \end{raggedright}
    \end{multicols}
\newpage
%
% TOC
%
\renewcommand{\cftaftertoctitle}{\thispagestyle{empty}}
\renewcommand\cftsecleader{\cftdotfill{\cftdotsep}}
\tableofcontents
\newpage

\section{Overview}
%Brief textual description of the role of this high-risk component in the overall project
Like any embedded system a microcontroller that is cost effective and provides adequate hardware
for the requirements of the system is needed.  These requirements being to operate the mechanical
communication aspects of the feeder.  It must have available documentation and easy to use
toolchains, with useful SDKs, for efficient development.
%An engine controller, like any electrical device requires power to function properly.
% The system is heavily constrained by both weight and size requirements and thus must be
% developed carefully to ensure compliance. The power systems will be responsible for delivering
% power to both the electrical components, such as microcontrollers, and mechanical components,
% like valves.
\section{Risk specification}
Marketing requirements relevant for microcontrollers:
\begin{enumerate}
    \item\label{auto}Supplementary and Master Feeders should operate unattended
    \item\label{wifi}Supplementary and Master Feeders should be able to connect to a wireless network
    \item\label{network}Master Feeder should be able to brodcast localized network for managing Suplementary Feeders
    \item\label{storage}Master Feeder should be able to store feeding schedules and the amount of food eaten by owners pets
\end{enumerate}
The relevant specifications can be found in \autoref{tab:specs}.

\begin{table}[H]
    \centering
    \caption{Engineering Specifications}
    \label{tab:specs}
    \begin{tabularx}{\linewidth}{cXX} \toprule
        Marketing Requirement(s) & Engineering Requirement & Justification \\ \midrule
        \ref{auto},\ref{wifi},\ref{network},\ref{storage}            & \engineerthis{elight}Suplementary Feeders need to be able to transmit and recieve data to and from master feeder on a private localized network.  & Allow for automation of supplementary feeders, without interfering with owners network if any, and to reduce cost for owners of multiple pets.\\\\
        \ref{wifi},\ref{network}              & \engineerthis{eremote} Suplementary and Master Feeders need wireless pheripherals or to be able to integrate with a wireless module.& Needed to permit network communication between Master and Suplementary feeders.\\
        \ref{wifi},\ref{network},\ref{storage}              & \engineerthis{epressure} User needs to be able to communicate with Master Feeder via its localized network or the User's personal network.& Needed to allow for user to configure eating times and food portions in pet profiles\\
        \ref{auto}              & \engineerthis{etemp}Supplementary and Master Feeders should be able to measure food dispensed and detect pets& Needed to adequately feed pet/s when it is their feeding time.\\
    \end{tabularx}
\end{table}
%Mostly tables introduced and explained in text
%– Needs (0–2 points)—numbered customer needs or marketing requirements related to
    %this risk, (i.e., a subset of the overall project needs)
    %– Engineering specifications (0–2 points)—numbered/lettered engineering specification
    %related to this risk, each related to needs by number, (i.e., a subset of the overall project
    %specifications).
    %– Analysis to justify engineering specifications (0–3 points)
\section{Risk investigation}
The Master Feeder needs to be advanced enough to manage multiple suplementary
feeders with its own localized network, store feeding configuration data, and control
the pheripherals of itself.  The brands of embedded computer that can suffice
for this task are Raspberry Pi, Bananna Pi, and Beaglebone.  These brands all
have variants that can run an operating system to manage this multitude of
tasks.  They can run an embedded linux operating system thus allowing for the
use of a database for storing information.  Each variant also has enough pheripherals
for controlling the sensors and motors of the feeder and hava built in wireless
for connecting to and broadcasting a network.  There were enough differences however
to utilize a decision matrix between them. This can be seen in table \autoref{tab:specs2}
on the following page.

\begin{table}[H]
    \centering
    \caption{Decision Matrix: Master Feeder}
    \label{tab:specs2}
    \begin{tabularx}{\linewidth}{cXXXXX} \toprule
        Criteria & Weight & Raspberry Pi 3 B & Bananna Pi Zero & Raspberry Pi Zero W & Beaglebone Black\\ \midrule
        Price                 & 3 & 0 & 0 & 1 & -1 \\
        Adequate Peripherals  & 4 & 1 & 1 & 1 & 1\\
        Wireless Built-in     & 3 & 1 & 1 & 1 & 1\\
        Development Resources & 2 & 1 & 0 & 1 & 1\\
        & total                   & 9 & 7 & 12 & 6
    \end{tabularx}
\end{table}

Of the devices it came to be that the Raspberry Pi Zero W variant was the best choice.  The Raspberry Pi 3 B
is much faster and has more cores than the Zero W, but it being 3.5 times the cost of the zero at \$35 works against
it being cost affective.  The Beaglebone not as popular as the Raspberry pi and being almost twice the price of the Pi 3 B
at \$68.75 made it unideal to choose.  The competitor to the Raspberry Pi brand ,Bananna Pi, has its own Zero variant
with wireless and operating with a faster quad-core processor.  The board however though doesn't appear available on any
online shops to purchase or see its price.  Which makes it unable to be fully considered.

The Suplementary Feeder simply requires some kind of microcontroller to operate concurrently with controlling the
detection of pets, dispensing of food when needed, and communicating with the Master feeder to transmit and recieve data.
These tasks can be performed by most microcontrollers provided they have proper connections to appropriate modules or sensors
to perform those tasks.  The task of communicating with the master feeder via its localized network requires integrating a 
wireless module.  The ESP8266 wireless module by espressif is normally configured to run firmware called nodemcu allowing 
versatile and cost effective controllers like the KL64 and Arduino Teensy to send command strings via UART to connect to
wireless networks.  However the ESP8266 can also operate using custom firmware allowing access to its other pheripherals 
such as its UART and PWM related pins.  Allowing it to control the sensors and motors operating the feeder while at the
same time utilizing its internal wireless communication hardware to communicate with the Master Feeders network.  The network
communication is made easier due to the SDK provided for the ESP8266 making the communication aspect more direct.  Thus making
the ESP8266 the more ideal option for the the Suplementary Feeder to cut out and middle man hardware and save cost.  

\begin{table}[H]
    \centering
    \caption{Decision Matrix: Suplementary Feeder}
    \label{tab:specs3}
    \begin{tabularx}{\linewidth}{cXXXX} \toprule
        Criteria & Weight & KL64 & Teensy & ESP8266\\ \midrule
        Price                 & 3 & 0 & 1 & 1 \\
        Adequate Peripherals  & 4 & 1 & 1 & 1 \\
        Wireless Built-in     & 3 & 0 & 0 & 1 \\
        Development Resources & 2 & 1 & 1 & 1 \\
        & total                   & 6 & 9 & 12
    \end{tabularx}
\end{table}

%Combination of textual explanation and tables
    %– Survey of existing systems/components and how they relate to this risk (0–5 points)
    %– Concepts considered and chosen (0–3 points)
    %– Rationale for choice(s), including analysis performed, (e.g., Pugh table) (0–4 points)
\section{Risk mitigation design}
%Technical details of proposed design choice—textual explanation with many meaningful
%diagrams, (introduced and explained in text); should include input(s) and output(s) and
%should define any interfaces/protocols
    %– Overview (0–2 points)
    %– How it works (0–10 points)—include specifications for this component to enable the
    %overall project to meet its engineering specifications, (which were presented in Section
    %II)
    %– Why this design mitigates, (i.e., eliminates or minimizes), risk (0–10 points)
    %– Overall risk subsystem diagrams (0–5 points)
    %– Detailed design (0–5 points)
        %· Circuits and assemblies, of any hardware components
            %o Circuit schematics
            %o Sensor types and placement
            %o Actuators
            %o Other components
            %o Interface(s) to other project components
            %o State diagrams, flowcharts, system models, etc.
        %· User interface and controls, of any software components
            %o State diagrams, flowcharts, system models, etc.
    %– Intellectual property (0–3 points)—results of patent search for design of proposed risk
    %solution
\section{Parts List}
\begin{table}[H]
    \centering
    \caption{Parts List}
    \label{tab:specs4}
    \begin{tabularx}{\linewidth}{cXXXX} \toprule
        Part & Description & Cost & Actually Paid & Availability\\ \midrule
        \\Raspberry Pi Zero W & A tiny Raspberry Pi with built in Wireless and Bluetooth& \$10.00 & \$0 (owned) & \href{https://www.canakit.com/raspberry-pi-zero-wireless.html?src=raspberrypi}{Cana Kit Link} 3-5 business days\\
        \\Micro SD Card & SD card for OS and data storage of Raspberry Pi& \$7.80 & \$0 (owned) & \href{https://www.amazon.com/SanDisk-Mobile-MicroSDHC-Memory-SDSDQM-B35A/dp/B004ZIENBA/ref=sr\_1\_5?ie=UTF8\&qid=1510058599\&sr=8-5\&keywords=micro+sd+card+8gb\&dpID=41hGPOLym4L\&preST=\_SX300\_QL70\_\&dpSrc=srch}{Amazon Link} 2 day shipping (Prime)\\
        \\ESP8266(Feather) & Adafruit dev board variant of the ESP8266 & \$17.12 & \$0 (owned) & \href{https://www.amazon.com/Adafruit-2821-Feather-HUZZAH-ESP8266/dp/B019MGW6N6/ref=sr\_1\_1\_sspa?ie=UTF8\&qid=1510058499\&sr=8-1-spons\&keywords=adafruit+feather\&psc=1}{Amazon Link} 2 day shipping (Prime)\\
    \end{tabularx}
\end{table}
%List of parts for proposed risk mitigation design.
    %– Part description (with name and number, if applicable)
    %– Cost—(standard purchase price of component)
    %– Your cost—(your cost for component; could be $0 if you already own)
    %– Availability—(vendor information, including lead time from order placement to delivery)
\section{Testing strategy}
%Plan for verification of proper component/subsystem operation within the project’s
%particular operating environment. The plan should include what will be measured/tested
%along with an estimate of when. (Notes: 1. manufacturer’s performance specifications are
%often unachievable in practice, [e.g., new car mileage estimates]; 2. testing sooner is much
%better than later— whether this high-risk component will perform adequately in the overall
%project system needs to be determined as early as possible.)
\section{Uncertainties}
%Any remaining doubts or questions about using or testing this component/subsystem—any
%concerns the author or other team members have about this aspect of the project.
\section{Appendices}
%Copies of (or links to) the manufacturer’s literature on the component/subsystem—
%especially technical specification(s) and application notes.

\end{document}
